"use server"

import { db } from "@/lib/db"
import { todos } from "@/drizzle/schema"
import { revalidatePath } from "next/cache"
import { stackServerApp } from "@/stack"

export async function createSampleTodos() {
  const user = await stackServerApp.getUser()
  if (!user) {
    return { success: false, error: "Not authenticated" }
  }

  const sampleTodos = [
    ['2025-05-05', 'Notify stakeholders'],
    ['2025-05-05', 'Research reading list'],
    ['2025-05-11', 'Escalation planning'],
    ['2025-05-11', 'Share KPI summary'],
    ['2025-05-13', 'Brainstorm strategy ideas'],
    ['2025-05-16', 'Join breakout session'],
    ['2025-05-16', 'Review past quarter'],
    ['2025-05-19', 'Review internet plan'],
    ['2025-05-20', 'Set investment targets'],
    ['2025-05-20', 'Review analytics dashboard'],
    ['2025-05-22', 'Attend virtual meetup'],
    ['2025-05-22', 'Write newsletter draft'],
    ['2025-05-25', 'Plan content calendar'],
    ['2025-05-26', 'Partner outreach email'],
    ['2025-05-26', 'Stretching routine'],
    ['2025-06-02', 'Give feedback'],
    ['2025-06-02', 'Share new roadmap'],
    ['2025-06-11', 'Team Git training'],
    ['2025-06-14', 'Brainstorm post ideas'],
    ['2025-06-14', 'Test fire extinguisher'],
    ['2025-05-12', 'Share KPI summary'],
    ['2025-05-13', 'Brainstorm strategy ideas'],
    ['2025-05-16', 'Join breakout session'],
    ['2025-05-17', 'Review past quarter'],
    ['2025-05-19', 'Review internet plan'],
    ['2025-05-20', 'Set investment targets'],
    ['2025-05-21', 'Review analytics dashboard'],
    ['2025-05-22', 'Attend virtual meetup'],
    ['2025-05-23', 'Write newsletter draft'],
    ['2025-05-25', 'Plan content calendar'],
    ['2025-05-26', 'Partner outreach email'],
    ['2025-05-27', 'Stretching routine'],
    ['2025-06-06', 'Share new roadmap'],
    ['2025-06-15', 'Test fire extinguisher'],
    ['2025-06-16', 'Language flashcards'],
    ['2025-06-18', 'Complete certification module'],
    ['2025-06-23', 'Attend coding workshop'],
    ['2025-06-24', 'Measure for new curtains'],
    ['2025-06-27', 'Meet with mentor'],
    ['2025-06-29', 'Organize desk'],
    ['2025-06-30', 'Review analytics dashboard'],
    ['2025-07-01', 'Update monthly budget'],
    ['2025-07-02', 'Weekly KPI check-in'],
    ['2025-07-02', 'Test send'],
    ['2025-07-03', 'Watch Spanish video'],
    ['2025-07-06', 'Text an old friend'],
    ['2025-07-07', 'Study for certification exam'],
    ['2025-07-07', 'SWOT analysis'],
    ['2025-07-07', 'Review launch plan'],
    ['2025-07-07', 'Take mental health day'],
    ['2025-07-15', 'Sync with HR'],
    ['2025-07-15', 'Research reading list'],
    ['2025-07-22', 'Conduct candidate interview'],
    ['2025-07-22', 'Team Git training'],
    ['2025-07-22', 'Install shelf'],
    ['2025-07-23', 'Install shelf'],
    ['2025-07-28', 'Watch online course module'],
    ['2025-07-30', 'First aid kit check'],
    ['2025-07-31', 'Prep partner call'],
    ['2025-08-02', 'Watch Spanish video'],
    ['2025-08-03', 'Call grandparents'],
    ['2025-08-05', 'Music production'],
    ['2025-08-09', 'Evening mindfulness'],
    ['2025-08-12', 'Test send'],
    ['2025-08-12', 'Work on short story'],
    ['2025-08-13', 'Check milestone slip'],
    ['2025-08-13', 'Reels posting'],
    ['2025-08-13', 'Evening mindfulness'],
    ['2025-08-15', 'Split bill expenses'],
    ['2025-08-18', 'Plan content calendar'],
    ['2025-08-18', 'Take mental health day'],
    ['2025-08-18', 'Draft blog post'],
    ['2025-08-19', 'Rebalance workload'],
    ['2025-08-26', 'Log completed tasks'],
    ['2025-08-27', 'Revisit savings goals'],
    ['2025-09-02', 'Negotiation call'],
    ['2025-09-11', 'Journal reflections'],
    ['2025-09-14', 'DevOps training'],
    ['2025-09-22', 'Check business account'],
    ['2025-09-25', 'Team coffee chat'],
    ['2025-09-26', 'Negotiation call'],
    ['2025-10-02', 'Prepare review notes'],
    ['2025-10-03', 'Set investment targets'],
    ['2025-10-05', 'Watch online course module'],
    ['2025-10-07', 'Check smoke detector'],
    ['2025-10-09', 'Security review'],
    ['2025-10-09', 'Gratitude log'],
    ['2025-10-09', 'Write newsletter draft'],
    ['2025-10-13', 'Gratitude log'],
    ['2025-10-17', 'Check feature delivery'],
    ['2025-10-19', 'Edit post'],
    ['2025-10-21', 'Design Instagram post'],
    ['2025-10-25', 'Attend keynote speech'],
    ['2025-10-26', 'Paint bedroom wall'],
    ['2025-10-30', 'Brainstorm post ideas'],
    ['2025-10-30', 'Paint for fun'],
    ['2025-11-01', 'Work on short story'],
    ['2025-11-01', 'Draft proposal follow-up'],
    ['2025-11-01', 'Bedtime wind-down'],
    ['2025-11-01', 'Assess release blockers'],
    ['2025-11-04', 'Therapy session'],
    ['2025-11-04', 'Share KPI summary'],
    ['2025-11-04', 'Check milestone slip'],
    ['2025-11-05', 'Check milestone slip'],
    ['2025-11-07', 'Conduct candidate interview'],
    ['2025-11-15', 'Check business account'],
    ['2025-11-16', 'Update monthly budget'],
    ['2025-11-17', 'Draft update email'],
    ['2025-11-19', 'Update personal finance tracker'],
    ['2025-11-21', 'Evaluate market trends'],
    ['2025-11-28', 'Conduct performance review'],
    ['2025-11-28', 'Friday drinks'],
    ['2025-11-28', 'Body scan meditation'],
    ['2025-12-01', 'Complete certification module'],
    ['2025-12-03', 'Paint bedroom wall'],
    ['2025-12-03', 'Review launch plan'],
    ['2025-12-03', 'Plan family BBQ'],
    ['2025-12-07', 'Interview target customers'],
    ['2025-12-07', 'Team lunch'],
    ['2025-12-08', 'Team lunch'],
    ['2025-12-10', 'Estimate tax liability'],
    ['2025-12-16', 'Lunch with parents'],
    ['2025-12-18', 'Review MOU'],
    ['2025-12-23', 'Listen to audiobook'],
    ['2025-12-24', 'Partner outreach email'],
    ['2025-12-24', 'Review partner proposal'],
    ['2025-12-24', 'Bedtime wind-down'],
    ['2025-12-25', 'Bedtime wind-down'],
    ['2025-12-26', 'Brainstorm strategy ideas'],
    ['2025-12-27', 'Plan roadmap priorities'],
    ['2025-12-27', 'Check crypto trends'],
    ['2025-12-27', 'Take course quiz'],
    ['2026-01-04', 'Update emergency contact list'],
    ['2026-01-11', 'Annual physical'],
    ['2026-01-15', 'Compliance refresher'],
    ['2026-01-16', 'Review past quarter'],
    ['2026-01-20', 'Schedule social posts'],
    ['2026-01-20', 'Submit course assignment'],
    ['2026-01-21', 'Music production'],
    ['2026-01-22', 'Weekly 1:1 with Sarah'],
    ['2026-01-25', 'Weekly KPI check-in'],
    ['2026-01-27', 'Complete certification module'],
    ['2026-01-28', 'Review CRM notes'],
    ['2026-02-01', 'Edit post'],
    ['2026-02-01', 'Gym session'],
    ['2026-02-04', 'Test fire extinguisher'],
    ['2026-02-05', 'Attend coding workshop'],
    ['2026-02-06', 'Trivia game'],
    ['2026-02-07', 'Watch Spanish video'],
    ['2026-02-11', 'Trivia game'],
    ['2026-02-13', 'Call grandparents'],
    ['2026-02-14', 'Send client check-in'],
    ['2026-02-14', 'Register for industry conference'],
    ['2026-02-17', 'Work on short story'],
    ['2026-02-17', 'DevOps training'],
    ['2026-02-17', 'Team coffee chat'],
    ['2026-02-19', 'Team coffee chat'],
    ['2026-02-20', 'Service HVAC'],
    ['2026-02-23', 'Review launch plan'],
    ['2026-02-23', 'Prepare review notes'],
    ['2026-02-23', 'Review internet plan'],
    ['2026-02-24', 'Test fire extinguisher'],
    ['2026-02-26', 'Test fire extinguisher'],
    ['2026-03-03', 'Check power bill'],
    ['2026-03-03', 'Hands-on React workshop'],
    ['2026-03-04', 'Review past quarter'],
    ['2026-03-07', 'Design Instagram post'],
    ['2026-03-08', 'Evaluate market trends'],
    ['2026-03-12', 'Review analytics dashboard'],
    ['2026-03-13', 'Review partner proposal'],
    ['2026-03-14', 'Brainstorm strategy ideas'],
    ['2026-03-15', 'Study Italian'],
    ['2026-03-15', 'Donate old clothes'],
    ['2026-03-15', 'Reels posting'],
    ['2026-03-18', 'Reels posting'],
    ['2026-03-19', 'Test fire extinguisher'],
    ['2026-03-19', 'Edit post'],
    ['2026-03-19', 'Security review'],
    ['2026-03-20', 'Security review'],
    ['2026-03-21', 'Update Asana board'],
    ['2026-03-24', 'Review past quarter'],
    ['2026-03-24', 'Gym session'],
    ['2026-04-15', 'Slide deck prep'],
    ['2026-04-15', 'Prep lunches for the week'],
    ['2026-04-19', 'Paint bedroom wall'],
    ['2026-04-23', 'Escalation planning'],
    ['2026-04-25', 'Evaluate synergy'],
    ['2026-04-27', 'Organize fridge'],
    ['2026-04-29', 'Skincare routine'],
    ['2026-05-02', 'Annual physical'],
    ['2026-05-04', 'Read 20 pages'],
    ['2026-05-07', 'Organize desk'],
    ['2026-05-08', 'Review Q2 budget'],
    ['2026-05-11', 'Check business account'],
    ['2026-05-14', 'Brainstorm post ideas'],
    ['2026-05-14', 'Check marketing spend'],
    ['2026-05-14', 'Skincare routine'],
    ['2026-05-19', 'Skincare routine'],
    ['2026-05-20', 'Send client check-in'],
    ['2026-05-20', 'Weekly KPI check-in'],
    ['2026-05-23', 'Weekend picnic'],
    ['2026-05-24', 'Public speaking seminar'],
    ['2026-05-24', 'Register for industry conference'],
    ['2026-05-24', 'Cardio run'],
    ['2026-05-27', 'Cardio run'],
    ['2026-05-28', 'Donate old clothes'],
    ['2026-05-30', 'Compile market data'],
  ]

  await db.insert(todos).values(sampleTodos.map(([date, title]) => ({
    title,
    dueDate: new Date(date),
    completed: false,
    assignedToId: user.id
  })))
  
  revalidatePath("/app/todos")
  return { success: true }
}
